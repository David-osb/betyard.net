<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tank01 API Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border: 1px solid #ddd; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        pre { background: #f8f9fa; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>Tank01 NFL API Test</h1>
    <button onclick="testAPI()">Test API</button>
    <div id="results"></div>

    <script>
        async function testAPI() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<p>Testing Tank01 API...</p>';
            
            const apiConfig = {
                baseUrl: 'https://tank01-nfl-live-in-game-real-time-statistics-nfl.p.rapidapi.com',
                headers: {
                    'X-RapidAPI-Key': 'be76a86c9cmsh0d0cecaaefbc722p1efcdbjsn598e66d34cf3',
                    'X-RapidAPI-Host': 'tank01-nfl-live-in-game-real-time-statistics-nfl.p.rapidapi.com'
                }
            };

            // Test 1: Get NFL games for Week 7
            try {
                console.log('Testing Week 7 games...');
                const response = await fetch(`${apiConfig.baseUrl}/getNFLGamesForWeek?week=7&season=2025`, {
                    method: 'GET',
                    headers: apiConfig.headers
                });
                
                if (response.ok) {
                    const data = await response.json();
                    resultsDiv.innerHTML += `
                        <div class="test-result success">
                            <h3>✅ Week 7 Schedule - SUCCESS</h3>
                            <p>Status: ${response.status}</p>
                            <p>Games found: ${data?.body?.length || 0}</p>
                            <pre>${JSON.stringify(data, null, 2)}</pre>
                        </div>
                    `;
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                resultsDiv.innerHTML += `
                    <div class="test-result error">
                        <h3>❌ Week 7 Schedule - ERROR</h3>
                        <p>Error: ${error.message}</p>
                    </div>
                `;
            }

            // Test 2: Get NFL games for Week 8
            try {
                console.log('Testing Week 8 games...');
                const response = await fetch(`${apiConfig.baseUrl}/getNFLGamesForWeek?week=8&season=2025`, {
                    method: 'GET',
                    headers: apiConfig.headers
                });
                
                if (response.ok) {
                    const data = await response.json();
                    resultsDiv.innerHTML += `
                        <div class="test-result success">
                            <h3>✅ Week 8 Schedule - SUCCESS</h3>
                            <p>Status: ${response.status}</p>
                            <p>Games found: ${data?.body?.length || 0}</p>
                            <pre>${JSON.stringify(data, null, 2)}</pre>
                        </div>
                    `;
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                resultsDiv.innerHTML += `
                    <div class="test-result error">
                        <h3>❌ Week 8 Schedule - ERROR</h3>
                        <p>Error: ${error.message}</p>
                    </div>
                `;
            }

            // Test 3: Get current week games
            try {
                console.log('Testing current week games...');
                const response = await fetch(`${apiConfig.baseUrl}/getNFLGamesForWeek?week=1&season=2024`, {
                    method: 'GET',
                    headers: apiConfig.headers
                });
                
                if (response.ok) {
                    const data = await response.json();
                    resultsDiv.innerHTML += `
                        <div class="test-result success">
                            <h3>✅ 2024 Week 1 Schedule (Test) - SUCCESS</h3>
                            <p>Status: ${response.status}</p>
                            <p>Games found: ${data?.body?.length || 0}</p>
                            <pre>${JSON.stringify(data, null, 2)}</pre>
                        </div>
                    `;
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                resultsDiv.innerHTML += `
                    <div class="test-result error">
                        <h3>❌ 2024 Week 1 Schedule (Test) - ERROR</h3>
                        <p>Error: ${error.message}</p>
                    </div>
                `;
            }
        }
    </script>
</body>
</html>